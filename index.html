<!doctype html><html lang="en"><head><meta charset="utf-8"/><link rel="icon" href="/reactsynth/favicon.ico"/><meta name="viewport" content="width=device-width,initial-scale=1"/><meta name="theme-color" content="#000000"/><meta name="description" content="Web site created using create-react-app"/><link rel="apple-touch-icon" href="/reactsynth/logo192.png"/><link rel="manifest" href="/reactsynth/manifest.json"/><title>React App2</title><script defer="defer" src="/reactsynth/static/js/main.63d052a3.js"></script><link href="/reactsynth/static/css/main.7ab748db.css" rel="stylesheet"></head><body style="background:#000"><noscript>You need to enable JavaScript to run this app.</noscript><button id="start" style="width:500px;height:300px;margin:auto;margin-top:100px">Click here to start Audio</button><div id="loading">Loading ...</div><script src="webpd/webpd-runtime.js"></script><script>const loadingDiv=document.querySelector("#loading"),startButton=document.querySelector("#start"),audioContext=new AudioContext;let patch=null,stream=null,webpdNode=null;const initApp=async()=>{await WebPdRuntime.registerWebPdWorkletNode(audioContext),response=await fetch("patch.wasm"),patch=await response.arrayBuffer(),stream=await navigator.mediaDevices.getUserMedia({audio:!0}),loadingDiv.style.display="none",startButton.style.display="block"},startApp=async()=>{"suspended"===audioContext.state&&audioContext.resume();const e=audioContext.createMediaStreamSource(stream);webpdNode=new WebPdRuntime.WebPdWorkletNode(audioContext),e.connect(webpdNode),webpdNode.connect(audioContext.destination),webpdNode.port.onmessage=e=>WebPdRuntime.fsWeb(webpdNode,e,{rootUrl:WebPdRuntime.urlDirName(location.pathname)}),webpdNode.port.postMessage({type:"code:WASM",payload:{wasmBuffer:patch}}),startButton.style.display="none",document.getElementById("root").style.display=""};startButton.onclick=startApp,initApp().then((()=>{console.log("App initialized")})),window.sendMsgToWebPd=(e,t,o)=>{webpdNode.port.postMessage({type:"inletCaller",payload:{nodeId:e,portletId:t,message:o}})}</script><div id="root" style="display:none"></div></body></html>